@theme {
    /* Code surface */
    --code-bg: var(--color-accent);
    --code-fg: var(--color-zinc-100);

    /* Lowlight/hljs token colors */
    --hljs-comment: #616161;
    --hljs-red: #f98181;
    --hljs-orange: #fbbc88;
    --hljs-green: #b9f18d;
    --hljs-yellow: #faf594;
    --hljs-blue: #70cff8;

    /* Optional: font tokens */
    --font-mono: ui-monospace, sfmono-regular, menlo, monaco, consolas, 'Liberation Mono', 'Courier New', monospace;
}

/* very light pr/ose-like editor styling */
.tiptap-editor {
    @apply min-h-[240px] outline-hidden;
}

/* Subtle paragraph spacing like Notion */
.tiptap-editor p + p {
    @apply mt-2;
}

.tiptap-editor h1 {
    @apply mt-4 mb-2 text-3xl font-bold;
}

.tiptap-editor h2 {
    @apply mt-4 mb-2 text-2xl font-bold;
}

.tiptap-editor h3 {
    @apply text-lg font-bold mt-3 mb-1.5;
}

.tiptap-editor ul {
    @apply pl-6 list-disc;
}

.tiptap-editor ol {
    @apply pl-6 list-decimal;
}

.tiptap-editor blockquote {
    @apply pl-4 italic text-secondary-foreground font-medium border-none;
}

.tiptap-editor pre {
    @apply p-5 whitespace-pre-wrap overflow-auto rounded-lg text-secondary-foreground bg-accent my-2;
}

.tiptap-editor code {
    @apply px-2 py-0.5 rounded bg-primary/20 text-inherit mx-1;
}

:root {
    --hljs-comment: #6a737d;
    --hljs-red: #d73a49;
    --hljs-orange: #e36209;
    --hljs-green: #22863a;
    --hljs-blue: #005cc5;
    --hljs-purple: #6f42c1;
}

.dark {
    --hljs-comment: #9aa0a6;
    --hljs-red: #ff7b72;
    --hljs-orange: #ffa657;
    --hljs-green: #3fb950;
    --hljs-blue: #58a6ff;
    --hljs-purple: #d2a8ff;
}

/* Use the variables */
.hljs-comment,
.hljs-quote {
    color: var(--hljs-comment);
}

.hljs-variable,
.hljs-template-variable,
.hljs-attribute,
.hljs-tag,
.hljs-regexp,
.hljs-link,
.hljs-name,
.hljs-selector-id,
.hljs-selector-class {
    color: var(--hljs-red);
}

.hljs-number,
.hljs-meta,
.hljs-built-in,
.hljs-builtin-name,
.hljs-literal,
.hljs-type,
.hljs-params {
    color: var(--hljs-orange);
}

.hljs-string,
.hljs-symbol,
.hljs-bullet {
    color: var(--hljs-green);
}

.hljs-title,
.hljs-section {
    color: var(--hljs-blue);
}

.hljs-keyword,
.hljs-selector-tag {
    color: var(--hljs-purple);
}

/* Code links */
.tiptap-editor a {
    @apply text-primary-foreground underline;
}

/* Placeholder */
.tiptap-editor .is-editor-empty:first-child::before {
    content: attr(data-placeholder);

    @apply float-left h-0 text-secondary-foreground pointer-events-none;
}

/* AI Draft */
.tiptap-editor .ai-draft :is(p, h1, h2, h3, h4, h5, h6, li, code, strong, em, a, blockquote) {
    color: var(--color-primary); /* maps to Tailwind theme color */
}

/* Optionally dim links etc. with utilities: */
.tiptap-editor .ai-draft a {
    text-decoration: underline;
}

.drag-handle {
    align-items: center;
    border-radius: 0.25rem;
    border: none;
    cursor: grab;
    display: flex;
    height: 1.5rem;
    justify-content: center;
    width: 1.5rem;
}

svg {
    width: 1.25rem;
    height: 1.25rem;
}

.ai-generated-text {
    background: linear-gradient(120deg, #fef3c7 0%, #fde68a 100%);
    padding: 8px 12px;
    border-radius: 8px;
    border-left: 4px solid #8e51ff00;
    margin: 8px 0;
    box-shadow: 0 2px 4px rgb(245 158 11 / 10%);
    font-style: italic;
    animation: aiHighlight 2s ease-in-out;
}

.ai-generated-text::before {
    content: 'âœ¨ AI Generated: ';
    font-weight: bold;
    color: #92400e;
}

@keyframes ai-highlight {
    0% {
        background-color: #fbbf24;
        transform: scale(1.02);
    }

    100% {
        background-color: #fef3c7;
        transform: scale(1);
    }
}
